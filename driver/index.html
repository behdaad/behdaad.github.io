<!doctype html>
<html id="top" lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="theme-color" content="#212121" />
    <title>Snapp! Driver App | Behdad Keynejad</title>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/works.css">
    <link rel="icon" type="image/png" href="../assets/favicon.png" />
    <link rel="shortcut icon" type="image/x-icon" href="assets/favicon.png">
</head>

<body class="driver">

    <div class="work-container">
        <div class="work-header">
            <h1>
                Snapp<span class="exclamation">!</span><br />
                Driver Application
            </h1>
            <img src="../assets/driver/driver-hero.png" alt="Snapp Driver App" />
        </div>
    </div>

    <nav id="nav" class="background-green">
        <div class="nav-content">
            <div class="avatar">
                <a href="..">
                    <img src="../assets/memoji.png" alt="My Memoji" />
                </a>
            </div>
            <ul class="menu">
                <li><a href="..">Home</a></li>
                <li><a href="../about">About</a></li>
                <li><a href="../resume/Behdad-Keynejad-Resume.pdf" target="_blank">Resume</a> </li>
            </ul>
        </div>
    </nav>

    <main>
        <!-- 1. Introduction -->
        <div class="back-white">
            <article class="work-article">
                <h2>Introduction</h2>
                <p class="work-text">
                    Founded in 2014 as a solution for urban journeys, it was soon rightfully dubbed as Iran’s Uber, reaching more than 1 million daily rides in 2017.
                    Four years later, the Snapp<span class="exclamation">!</span> application turned into a super app, and now it offers numerous services ranging from requesting cabs & trucks, ordering food, reserving hotels and flights, buying inter-city bus and plane tickets, and all other services of Snapp<span class="exclamation">!</span> Group.
                    The Cab service with more than 2 million daily rides is by far the most popular.
                    Read more in <a href="https://snapp.ir/99-annual-report" target="_blank">Snapp<span class="exclamation">!</span>’s 2020 annual report</a> (in Farsi).<br /><br />
                </p>
            </article>
        </div>


        <!-- 2. Ride Offers -->
        <div class="back-gray padding-bottom-4">
            <article class="work-article">
                <h2>Ride Offers</h2>
                <p class="work-text">
                    Snapp<span class="exclamation">!</span> Driver app is the counterpart to the <a href="../snapp">Snapp<span class="exclamation">!</span> Passenger app</a>. Drivers use this app to view ride offers and decide whether to accept one or not. Some of its other important features include updating ride status, chatting with the Passenger and updating vehicle registration info.
                    <br /><br />
                    <strong>
                        Key Technologies & Frameworks:
                    </strong>
                </p>
                <ul class="frameworks">
                    <li><a href="https://docs.mapbox.com/ios/maps/guides" target="_blank">Mapbox</a> (with in-house tile server)</li>
                    <li><a href="https://github.com/novastone-media/MQTT-Client-Framework" target="_blank">MQTT</a> (as an event channel)</li>
                    <li><a href="https://github.com/pusher/libPusher" target="_blank">Pusher</a> (as a fallback to MQTT)</li>
                    <li><a href="https://developer.apple.com/documentation/corelocation" target="_blank">Core Location</a></li>
                    <li><a href="https://developer.apple.com/documentation/swift/codable" target="_blank">Codable</a></li>
                    <li><a href="https://firebase.google.com/docs/crashlytics/get-started?platform=ios" target="_blank">Firebase Crashlytics</a></li>
                    <li><a href="https://firebase.google.com/docs/analytics/get-started?platform=ios" target="_blank">Firebase Analytics</a></li>
                </ul>
            </article>

            <div class="work-image">
                <img src="../assets/driver/driver-new.png" alt="Snapp Driver Redesigned" />
            </div>
            <div class="subtitle">
                <br />
                Drivers can set their availability status, see ride offers and update their profile info in the Driver app.
            </div>
        </div>

        <!-- 3. Chat -->
        <div class="back-white padding-bottom-4">
            <article class="work-article">
                <h2>Chat</h2>
                <p class="work-text">
                    Prior to this feature, Passengers and Drivers could only communicate using a handful of predefined messages or by calling each other. We wanted to enhance this by adding free text chat.
                    <br /><br />
                    <strong>
                        Key Technologies & Frameworks:
                    </strong>
                </p>
                <ul class="frameworks">
                    <li><a href="https://developer.apple.com/documentation/coredata" target="_blank">Core Data</a></li>
                    <li>Custom <a href="https://developer.apple.com/documentation/uikit/uicollectionviewlayout" target="_blank">UICollectionViewLayout</a></li>
                </ul>
            </article>
            <div class="work-image">
                <img src="../assets/driver/driver-chat.png" alt="Snapp Passenger chat" />
            </div>
            <div class="subtitle">
                <br />
                Drivers can respond to Passenger messages easily with predefined messages so they can keep their focus on the road.
            </div>
        </div>

        <!-- 4. Dark Mode -->
        <div class="back-black padding-bottom-4">
            <article class="work-article">
                <h2>Dark Mode</h2>
                <p class="work-text-normal">
                    Since some of the Drivers work at night, adding Dark Mode to enhance user experience and reduce eye strain seemed like a no-brainer.
                </p>
            </article>
            <div class="work-image">
                <img src="../assets/driver/driver-dark.png" alt="Snapp Driver Old" />
            </div>
            <div class="subtitle">
                <br />
                Dark Mode helps Drivers to work with the app more easily in low-light conditions.
            </div>
        </div>

        <!-- 5 Rewrite -->
        <div class="back-gray padding-bottom-4">
            <article class="work-article">
                <h2>Rewrite Project</h2>
                <p class="work-text">
                    After the successful launch of the <a href="../snapp/">rewritten Passenger app</a>, we decided to do the same for the Driver app. The Driver app was also written in Objective-C using MVC architecture. Since Snapp<span class="exclamation">!</span> is based on a real-time event system, MVC was not a a suitable architecture and we were facing a lot of delays when implementing new features and also had a lot of problems finding root causes of bugs.
                    <br />
                    Moreover, this coincided with a complete overhaul of the app from design and usability standpoints, thus a perfect opportunity to let go of legacy code.
                </p>
            </article>
            <div class="work-image">
                <img src="../assets/driver/driver-old.png" alt="Old Snapp Driver App" />
            </div>
            <div class="subtitle">
                <br />
                Old Snapp<span class="exclamation">!</span> Driver app.
            </div>
        </div>


        <!-- 6. SNPArchitecture -->
        <div class="back-white padding-bottom-4">
            <article class="work-article">
                <h2>A New Architecture</h2>
                <p class="work-text-normal">
                    So we decided to rewrite the application using <strong>Swift</strong> and new architecture.
                </p>
                <p>
                    In order to select a new architecture, I studied all the common iOS app architectures out there: <a href="https://www.objc.io/issues/13-architecture/viper" target="_blank">VIPER</a>, <a href="https://github.com/uber/RIBs" target="_blank">Uber RIBs</a>, <a href="https://www.objc.io/issues/13-architecture/mvvm" target="_blank">MVVM</a>, and <a href="https://clean-swift.com/clean-swift-ios-architecture" target="_blank">Clean Swift</a>.
                    None of them actually worked for us for various reasons. We could’ve used RIBs as Snapp<span class="exclamation">!</span> and Uber apps are basically the same, but back then Uber hadn’t released much about RIBs other than a few videos and a blog post. They open-sourced RIBs a few months after we released our new app. So, the only choice left was to create a new architecture based on the learnings from those architectures. We called it SNPArchitecture and you can read about it <a href="https://github.com/behdaad/SNPArchitecture" target="_blank">here</a>.
                </p>
            </article>
            <div class="work-image-normal">
                <img src="https://raw.githubusercontent.com/behdaad/SNPArchitecture/master/Screens/SNPArchitecture.png" alt="SNPArchitecture" />
            </div>
            <div class="subtitle">
                <br />
                How objects from different classes interact with each other in SNPArchitecture.
            </div>
        </div>

        <!-- 7. Results -->
        <div class="back-gray padding-bottom-4">
            <article class="work-article">
                <h2>Results</h2>
                <p class="work-text-normal">
                    I initiated the rewrite project in December 2018 and kept growing the team. By June 2019 the project was done and the team grew to twelve developers. We successfully launched the redesigned app with massive success, just like the <a href="../snapp">Passenger app</a>.
                </p>
                <br />
                <br />
                <p>
                    <a href="https://apps.apple.com/us/app/اسنپ-رانندگان-snapp-driver/id6449247898" target="_blank"><img src="../assets/icons/appstore.svg" /></a>
                </p>
                <br />
            </article>
        </div>
    </main>

    <footer>
        <div class="footer-content">
            <div>© <span id="year"></span> Behdad Keynejad</div>
            <div class="padding"></div>
            <div class="social">
                <a href="mailto:hi@behdaad.me" target="_blank"><img src="../assets/icons/icon-mail.svg" alt="mail" /></a>
                <a href="https://www.linkedin.com/in/behdaad" target="_blank"><img src="../assets/icons/icon-linkedin.svg" alt="linkedin" /></a>
                <a href="https://github.com/behdaad" target="_blank"><img src="../assets/icons/icon-github.svg" alt="github" /></a>
            </div>
        </div>
        <a class="top-link" href="#top">
            <div class="arrow">
                <div></div>
                <div></div>
            </div>
            <div class="link">
                Top
            </div>
        </a>
    </footer>
    <script src="../js/script.js"></script>
</body>

</html>